{% extends "template.html" %}

{% block content %}
<h2>Upravit profil</h2>

<form action="{{ url_for('upload_profile_picture') }}" method="post" enctype="multipart/form-data" style="margin-top: 20px;">
    <label for="profile_image">Nahrát profilovou fotku:</label>
    <input type="file" id="profile_image" name="profile_image" accept="image/*">
    <button type="submit">Nahrát</button>
</form>

<form action="{{ url_for('update_profile') }}" method="post">
    <!-- Ostatní pole pro úpravu profilu -->
    <div>
        <label for="name">Jméno:</label>
        <input type="text" id="name" name="name" value="{{ profile.name }}">
    </div>
    <div>
        <label for="age">Věk:</label>
        <input type="number" id="age" name="age" value="{{ profile.age }}">
    </div>
    <div style="margin-bottom: 15px;">
        <label for="interests">Vyberte zájmy:</label><br>
        <select id="interests" name="interests" multiple class="select2" style="width: 100%;">
            <option value="" disabled></option> <!-- Prázdná volba pro vyhledávání -->
            {% for interest in interests %}
                <option value="{{ interest.name }}">{{ interest.name }}</option>
            {% endfor %}
        </select>
    </div>
       
    
    <button type="submit">Uložit změny</button>
</form>
<form action="{{ url_for('add_interest_route') }}" method="post">
    <label for="new_interest">Přidat nový zájem:</label>
    <input type="text" id="new_interest" name="new_interest" placeholder="Zadejte nový zájem" required>
    <button type="submit">Přidat zájem</button>
</form>
<!-- Formulář pro nahrání profilové fotky -->
<script>
    $(document).ready(function() {
        $('#interests').select2({
            placeholder: "Začněte psát pro vyhledání zájmu",
            allowClear: true
        });
    });
</script>


{% endblock %}

